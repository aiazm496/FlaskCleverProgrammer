{% extends 'base.html' %}


{% block head %}  
<title>Posts</title>
{% endblock %}

{% block body %}  
<!-- id and name should be same as is used in taking input in request.form['-']-->
<!--
<h2>Create new blog post: </h2>
<form action="/posts" method="POST">  create form to fill db
   Title:  
    <input type="text" name = 'title' id = 'title'>
   <input class="form-control" type="text"  name = 'title' id = 'title' placeholder="Enter title" aria-label="Enter title">
   <br>
   
   Post: 
    <input type="text" name="content" id="content"> 
<div class="form-group">    Bootstrap form text area 
    <textarea class="form-control" id="content" name = "content" rows="3" placeholder="Content"></textarea>
</div>

   <br>
   Author : 
   <input type="text" name="author" id="author"> 
   <input class="form-control" type="text"  name = 'author' id = 'author' placeholder="Enter author" aria-label="Enter author">
    <br>
   <input type="submit" value="Post" class = 'btn btn-success'>
</form>
-->

<div>
<h1>All posts</h1>
<a class="btn btn-success" href="/posts/new">+  New Post</a>
</div>
<hr>
    {% for post in posts %}
    <br>
        <h2>{{ post.title }}</h2>

        {% if post.author  %}
            <small> Written by : {{ post.author }} on {{ post.date_posted }}</small>

        {% else %}
            <small> Written by unknown on {{ post.date_posted }}</small>

        {% endif %}
        <br>
        <br>

        <p style="white-space: pre-wrap;">{{ post.content }}</p>
        <!-- style pre-wrap is required so we can have multiple lines-->

        <a class="btn btn-danger" href="/posts/delete/{{post.id}}">Delete</a>  <!--just enter button class-->
        <a class="btn btn-primary"  href="/posts/edit/{{post.id}}">Edit</a>
        <br>
        <br>
        <hr>

    {% endfor %}


{% endblock %}